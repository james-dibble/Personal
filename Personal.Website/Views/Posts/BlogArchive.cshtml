@model Personal.Website.ViewModels.BlogHeaderViewModel
@{
    ViewBag.Title = string.Concat("James Dibble - Blog", this.Model.GetDateString());
    ViewBag.Description = string.Concat("Ramblings of a .Net Web Developer; the blog of James Dibble.", this.Model.GetDateString());
    var count = 1;
}

@section Script
{
    <script src="@this.Url.Content("~/asset/script/post.js")"></script>
}

<div class="col-lg-10 col-md-9 col-sm-9">
    @foreach (var blog in this.Model.Blogs)
    {
        if (count % 2 != 0)
        {
            <div class="col-lg-8 col-md-8 col-sm-8 summary">
                <div class="col-lg-4 col-md-8 col-sm-8">
                    <div class="elipse">
                        <div class="date">
                            <h4>@blog.Date.ToString("dddd")</h4>
                            <h2>@blog.Date.ToString("MMMM d")</h2>
                            <h3>@blog.Date.Year</h3>
                        </div>
                    </div>
                </div>
                <div class="col-lg-8 col-md-8 col-sm-8">
                    <div class="summary-content-wrap">
                        <div class="summary-content">
                            <p class="lead">@blog.Title</p>
                            <p>@blog.Abstract</p>
                            @this.Html.Partial("PostLink", blog)&nbsp;
                            <span class="fa fa-tag"></span>
                            @this.Html.Partial("TagLinks", blog)
                        </div>
                    </div>
                </div>
            </div>
        }
        else
        {
            <div class="col-lg-8 col-lg-offset-4 col-md-8 col-md-offset-4 col-sm-8 col-sm-offset-4 summary">
                <div class="col-lg-4 col-md-8 col-sm-8">
                    <div class="elipse">
                        <div class="date">
                            <h4>@blog.Date.ToString("dddd")</h4>
                            <h2>@blog.Date.ToString("MMMM d")</h2>
                            <h3>@blog.Date.Year</h3>
                        </div>
                    </div>
                </div>
                <div class="col-lg-8 col-md-8 col-sm-8">
                    <div class="summary-content-wrap">
                        <div class="summary-content text-right">
                            <p class="lead">@blog.Title</p>
                            <p>@blog.Abstract</p>
                            @this.Html.Partial("TagLinks", blog)
                            <span class="fa fa-tag"></span>
                            &nbsp;
                            @this.Html.Partial("PostLink", blog)
                        </div>
                    </div>
                </div>
            </div>
        }

        count++;
    }
    @if (!this.Model.Blogs.Any())
    {
        this.Write(this.Html.Partial("PageTitle", "No Posts"));
    }
</div>

@this.Html.Action("BlogHeader", "Posts", new { year = this.Model.Year, month = this.Model.Month, canRemove = true })